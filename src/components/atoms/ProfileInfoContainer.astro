---
import { Icon } from "astro-icon/components";

// Define the component props
interface Props {
  title: string;
  boxType?: "large" | "normal";
  icon: string;
}

const { title, boxType = "normal", icon } = Astro.props;

// ðŸ’¡ Determine CSS class based on boxType prop
const boxClass =
  boxType === "large" ? "outer-container large" : "outer-container normal";
---

<section class={`info-box-wrapper ${boxType}`}>
  <h2 class={boxType}>
    <Icon
      name={icon}
      color={boxType == "normal" ? "var(--color-primary)" : "var(--color-text)"}
    />{title}
  </h2>

  {/* ðŸ’¡ The HTML element using the dynamic class */}
  <div class={boxClass}>
    {/* ðŸ’¡ The slot renders any content passed into the component */}
    <slot />
  </div>
</section>

<style>
  /* Local styles for the Astro wrapper */
  .info-box-wrapper {
    padding: 0 20px;
    margin: 36px auto;
    text-align: center;
    max-width: 380px;
    width: 100%;
    box-sizing: border-box;
  }

  .info-box-wrapper.normal {
    text-align: left;
  }

  h2 {
    margin: 0 auto;
    display: inline-flex;
    justify-content: center;
    align-items: center;
    gap: 8px;
    background: var(--color-background);
    transform: translateY(0.6em);
    padding: 0 1em;
  }

  h2.normal {
    padding-left: 0;
  }

  /* --- Base Container Styles --- */
  .outer-container {
    border: none;
    padding: 32px 10px 16px;
    background-color: var(--color-background); /* Use theme variable */
    border-radius: 8px;
    transition: all 0.3s ease; /* Ensure smooth theme transition */
    height: 100%;
    box-sizing: border-box;
  }

  /* --- Normal Box (Default) --- */
  .outer-container.normal {
    text-align: left;
    padding-top: 16px;
    padding-left: 1.5em;
  }

  /* --- Large Box (Specific Styles) --- */
  .outer-container.large {
    min-height: 250px;
    border: 2px solid var(--color-text);
  }
</style>
