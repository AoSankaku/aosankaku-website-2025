---
import WorkCard from "./atoms/WorkCard.astro";

import "swiper/css";
import "swiper/css/autoplay";
---

<h2>作ったもの</h2>

<div class="container swiper">
  <div class="swiper-wrapper">
    <div class="swiper-slide">
      <WorkCard title="作品展示予定1" icon="mdi:view-gallery-outline">
        しばし待たれよ
      </WorkCard>
    </div>

    <div class="swiper-slide">
      <WorkCard title="作品展示予定2" icon="mdi:view-gallery-outline">
        しばし待たれよ
      </WorkCard>
    </div>

    <div class="swiper-slide">
      <WorkCard title="作品展示予定3" icon="mdi:view-gallery-outline">
        しばし待たれよ
      </WorkCard>
    </div>

    <div class="swiper-slide">
      <WorkCard title="作品展示予定4" icon="mdi:view-gallery-outline">
        しばし待たれよ
      </WorkCard>
    </div>

    <div class="swiper-slide">
      <WorkCard title="作品展示予定5" icon="mdi:view-gallery-outline">
        しばし待たれよ
      </WorkCard>
    </div>

    <div class="swiper-slide">
      <WorkCard title="作品展示予定6" icon="mdi:view-gallery-outline">
        しばし待たれよ
      </WorkCard>
    </div>
  </div>
</div>

<style>
  .container {
    margin: 30px;
  }

  .swiper-wrapper {
    align-items: stretch;
  }

  .container.swiper {
    height: 520px;
    margin: 60px 0;
    width: 100%;

    @media (min-width: 768px) {
      height: 640px;
    }
  }

  .swiper-slide {
    width: 280px !important;

    @media (min-width: 768px) {
      width: 380px !important;
    }
  }
</style>

<script>
  import Swiper from "swiper";
  import type { SwiperOptions } from "swiper/types";
  import { Autoplay } from "swiper/modules";

  export const swiperConfig = {
    modules: [Autoplay],
    loop: true,
    slidesPerView: "auto",
    spaceBetween: 0,
    centeredSlides: true,

    autoplay: {
      delay: 8000,
      disableOnInteraction: false,
    },

    speed: 2000,

    breakpoints: {
      768: {
        spaceBetween: 25,
      },
    },
  };

  const swiper = new Swiper(".swiper", swiperConfig as SwiperOptions);
</script>
