---
import { Icon } from "astro-icon/components";
import ProfileSocialIconButton from "./atoms/ProfileSocialIconButton.astro";
---

<ul>
  <ProfileSocialIconButton
    icon_name="simple-icons:misskey"
    size={50}
    label="Misskey"
    link="https://misskey.systems/@ao_sankaku"
  />
  <ProfileSocialIconButton
    icon_name="simple-icons:github"
    size={50}
    label="GitHub"
    link="https://github.com/AoSankaku"
  />
  <ProfileSocialIconButton
    icon_name="simple-icons:twitter"
    size={50}
    label="Twitter"
    link="https://twitter.com/Ao_Sankaku"
  />
  <li>
    <Icon
      name="icon-park-twotone:more-two"
      id="show_more_icons_button"
      width={50}
      height={50}
    />
  </li>
</ul>
<ul id="more_social_icons">
  <ProfileSocialIconButton
    icon_name="fa6-brands:square-x-twitter"
    size={50}
    label="X (Twitter)"
    link="https://x.com/Ao_Sankaku"
  />
  <ProfileSocialIconButton
    icon_name="fa6-brands:youtube"
    size={50}
    label="YouTube"
    link="https://www.youtube.com/@Ao_Sankaku"
  />
  <ProfileSocialIconButton
    icon_name="fa6-brands:bluesky"
    size={50}
    label="Bluesky"
    link="https://bsky.app/profile/aosankaku.bsky.social"
  />
  <ProfileSocialIconButton
    icon_name="simple-icons:keybase"
    size={50}
    label="Keybase"
    link="https://keybase.io/ao_sankaku"
  />
  <ProfileSocialIconButton
    icon_name="simple-icons:zenn"
    size={50}
    label="Zenn"
    link="https://zenn.dev/ao_sankaku"
  />
  <ProfileSocialIconButton
    icon_name="simple-icons:qiita"
    size={50}
    label="Qiita"
    link="https://qiita.com/Ao_Sankaku"
  />
  <ProfileSocialIconButton
    icon_name="simple-icons:note"
    size={50}
    label="Note"
    link="https://note.com/ao_sankaku"
  />
</ul>

<style>
  ul {
    display: flex;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    align-items: center;
    margin: 0 20px;
    list-style: none;
    list-style-type: none;
    padding: 0;
  }

  #show_more_icons_button {
    cursor: pointer;
  }

  #more_social_icons {
    display: none;
    justify-content: center;
    gap: 15px;
    flex-wrap: wrap;
    align-items: center;
    margin: 20px 20px 0;
    list-style: none;
    padding: 0;

    animation: slideDown 0.3s ease-out;
  }

  #more_social_icons.show {
    display: flex;
  }

  #more_social_icons.hiding {
    animation: slideUp 0.3s ease-out forwards;
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @keyframes slideUp {
    from {
      opacity: 1;
      transform: translateY(0);
    }
    to {
      opacity: 0;
      transform: translateY(-10px);
    }
  }
</style>

<script>
  const showMoreIconsButton = document.getElementById("show_more_icons_button");
  const moreSocialIcons = document.getElementById("more_social_icons");

  if (showMoreIconsButton && moreSocialIcons) {
    showMoreIconsButton.addEventListener("click", () => {
      const isHidden = !moreSocialIcons.classList.contains("show");

      if (isHidden) {
        // Show logic
        moreSocialIcons.classList.remove("hiding");
        moreSocialIcons.classList.add("show");
      } else {
        // Hide logic with animation delay
        moreSocialIcons.classList.add("hiding");
        setTimeout(() => {
          moreSocialIcons.classList.remove("show");
        }, 300); // Matches animation duration
      }
    });
  }
</script>
