---
import { Image } from "astro:assets";
import profileicon from "../assets/profileicon250.png";
import { type Lang } from "@/types/i18n";
import { useTranslator } from "@/i18n/utils";
const t = useTranslator(Astro.currentLocale as Lang);
---

<h2>{t("homepage.profile.title")}</h2>
<div>
  <Image src={profileicon} alt="プロフィール画像" />
</div>
<p class="name">{t("homepage.profile.name")}</p>
<p class="subname">{t("homepage.profile.subname")}</p>

<style>
  p {
    text-align: center;
    margin: 0;
  }

  .name {
    font-size: 2em;
  }

  .subname {
    margin-bottom: 42px;
  }

  div {
    margin: auto;
    width: 250px;
    height: 250px;
    border-radius: 50%;
    overflow: hidden; /* Crucial: Hides the shine when it moves off the edge */
    position: relative; /* Crucial: Allows the pseudo-element to be positioned relative to it */
  }

  div::before {
    content: "";
    position: absolute;
    top: 0;
    left: -100%; /* Start the shine off-screen to the left */
    width: 100%;
    height: 100%;

    /* Create a diagonal, thin, white-to-transparent gradient */
    background: linear-gradient(
      to right,
      rgba(255, 255, 255, 0) 0%,
      rgba(255, 255, 255, 0.3) 50%,
      rgba(255, 255, 255, 0) 100%
    );

    /* Apply the animation */
    animation: shine 2s infinite linear;
  }

  @keyframes shine {
    /* Moves the gradient from -100% (left) to +100% (right) of the container's width */
    0% {
      transform: skewX(-30deg) translateX(0);
    }
    100% {
      transform: skewX(-30deg) translateX(200%);
    }
  }
</style>
